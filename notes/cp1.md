# 语言基础

---
### 数组
- 由固定长度的特定类型元素组成的序列
- 长度为类型的组成部分
- 值类型语义(C中为指针语义)
---
### 字符串
- 底层结构
```go
type StringHeader struct {
	Data uintptr // 底层字节数组
	Len int // 字符串的字节长度
}
```
  1. 因此字符串的赋值(传参)操作，只是结构体的复制过程
  2. 支持切片操作，不同切片位置访问同一底层数组
  3. 由于只读，相同的字符串**字面常量**访问同一底层数组
  
 ---
 ### 切片
 - 底层结构
 ```go
type SliceHeader {
	Data uintptr
	Len int
	Cap int
}
```
- 区别于数组，切片的类型与长度无关，只要相同类型元素构成的切片均对应相同的切片类型
- 切片高效操作要点
  1. 降低内存分配的次数和每次分配的内存大小
  2. 尽量保证append操作不会超出cap的容量
- 避免切片内存泄露，由于底层数组会被保存在内存中，直到不被任何引用。
- 切片类型转换。通常不可，必要时可通过一些技巧转换，列入头信息复制
---
## 函数、方法和接口
- Go语言的初始化与执行
![xx](https://raw.githubusercontent.com/erenming/advance-go/master/images/WX20190909-142049@2x.png)
- 具名函数一般对应于包级的函数，是匿名函数的特列
- 当匿名函数引用了外部作用域中的变量时则成为了闭包函数
- 方法是绑定到一个具体类型的特殊函数
- 函数通过传值调用(注意：对于slice之类的，也是传值，只不过传递的是头结构的值)，闭包函数对于外部变量则通过引用
- Go通过组合的方式支持了方法的继承
